{% include "govapp/common_entity_modal.html" %}

<input type='hidden' value='{{ layer_symbology.id }}' name='catalogue-entry-symbology-definition-id' id='catalogue-entry-symbology-definition-id'>

<div class="card mt-2">
    <div class="card-header fw-bold h4" style="padding:30px;">
          <div class="row">
          <div class="col-6">
                Symbology Definition
          </div>
          <div class="col-6 text-end">
                <i class="bi fw-bold chevron-toggle down-chevron-open" data-bs-target="#box2-card-body" onclick=""></i>
          </div>
          </div>
    </div>
    <div class="card-body collapse show" id="box2-card-body">
          <div class='row'>
                <div class='col-12'>
                      {% if has_edit_access is True %}
                            <textarea class="form-control" rows='20' id="catalogue-entry-symbology-definition" >{{ layer_symbology.sld }}</textarea>
                            <div>
                              <label for="raw-parameter">
                                    <input type="checkbox" id="raw-parameter" name="raw-parameter" value="true">
                                    Use raw parameter (forgo parsing and encoding)
                              </label>
                              <p>
                                    The raw parameter specifies whether to forgo parsing and encoding of the uploaded style content. 
                                    When set to “true” the style payload will be streamed directly to GeoServer configuration. 
                                    Use this setting if the content and formatting of the style is to be preserved exactly. 
                                    Use this setting with care as it may result in an invalid and unusable style. The default is “false”.
                              </p>
                            </div>
                      {% else %}
                            <textarea readonly class="form-control" rows='20' > {{ layer_symbology.sld }}</textarea>
                      {% endif %}
                </div>
          </div>
    </div>
</div>

<div class='col-12 pt-2 text-end'>
      {% if has_edit_access is True %}
            <button class="btn btn-primary" id='catalogue-entry-symbology-btn-save' aria-current="page">Save</button>
      {% endif %}
</div>

<script>
      kbcatalogue_metadata.init_catalogue_metadata();
</script>